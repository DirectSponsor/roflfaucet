<!-- Chat Widget Component -->
<!-- Can be embedded in sidebar, used as floating widget, or full page -->

<div class="chat-widget" id="chat-widget">
    <div class="chat-header">
        <div class="chat-title">
            <i class="chat-icon">💬</i>
            <span class="chat-title-text">Community Chat</span>
            <span class="chat-user-count" id="chat-user-count">0 online</span>
        </div>
        <div class="chat-controls">
            <button class="chat-control-btn" id="chat-minimize-btn" title="Minimize">−</button>
            <button class="chat-control-btn" id="chat-close-btn" title="Close">×</button>
        </div>
    </div>

    <div class="chat-tabs">
        <div class="chat-tab active" data-room="general">
            <span class="tab-icon">🌟</span>
            <span class="tab-name">General</span>
            <span class="unread-count" id="unread-general">0</span>
        </div>
        <div class="chat-tab" data-room="vip">
            <span class="tab-icon">👑</span>
            <span class="tab-name">VIP</span>
            <span class="unread-count" id="unread-vip">0</span>
        </div>
        <div class="chat-tab" data-room="help">
            <span class="tab-icon">❓</span>
            <span class="tab-name">Help</span>
        </div>
    </div>

    <div class="chat-content">
        <!-- General Chat Room -->
        <div class="chat-room active" id="room-general">
            <div class="chat-messages" id="messages-general">
                <!-- Welcome message -->
                <div class="chat-message system-message">
                    <div class="message-content">
                        <span class="message-text">Welcome to ROFLFaucet Community Chat! 🎉</span>
                        <span class="message-time">now</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- VIP Chat Room -->
        <div class="chat-room" id="room-vip">
            <div class="chat-messages" id="messages-vip">
                <div class="chat-message system-message">
                    <div class="message-content">
                        <span class="message-text">VIP Chat - Sign up and upgrade to access! 👑</span>
                        <span class="message-time">now</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Room -->
        <div class="chat-room" id="room-help">
            <div class="chat-help-content">
                <h4>Chat Commands</h4>
                <div class="help-section">
                    <strong>/me [action]</strong> - Send an action message<br>
                    <strong>/tip [user] [amount]</strong> - Tip coins to another user<br>
                    <strong>/rain [amount]</strong> - Make it rain coins for everyone!<br>
                    <strong>/pm [user] [message]</strong> - Send private message
                </div>
                
                <h4>Chat Rules</h4>
                <div class="help-section">
                    • Keep it friendly and respectful<br>
                    • No spam or excessive caps<br>
                    • No begging for tips or coins<br>
                    • Have fun and help others! 🚀
                </div>

                <h4>Rain System</h4>
                <div class="help-section">
                    Each message costs 1 coin and goes into the rain pool.<br>
                    Pool automatically distributes to active users every hour! 🌧️
                </div>
            </div>
        </div>
    </div>

    <div class="chat-footer">
        <div class="chat-input-container">
            <input type="text" 
                   class="chat-input" 
                   id="chat-input" 
                   placeholder="Type a message... (1 coin per message)"
                   maxlength="200"
                   disabled>
            <button class="chat-send-btn" id="chat-send-btn" disabled>
                <span class="send-icon">📤</span>
            </button>
        </div>
        <div class="chat-status" id="chat-status">
            <span class="status-text">Sign up to chat!</span>
            <span class="rain-pool">Rain Pool: <span id="rain-pool-amount">0</span> coins</span>
        </div>
    </div>
</div>

<!-- Floating Chat Toggle Button (when minimized) -->
<div class="chat-float-toggle" id="chat-float-toggle" style="display: none;">
    <div class="float-icon">💬</div>
    <div class="float-notification" id="float-notification">0</div>
</div>
