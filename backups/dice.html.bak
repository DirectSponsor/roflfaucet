<!-- Roll of Chance - Intelligent Dice Game with dynamic probability calculations -->
<!-- TITLE=_Roll of Chance - ROFLFaucet_ -->
<!-- DESC=_Intelligent dice game with dynamic probability calculations and High/Low mechanics_ -->
<!-- KEYWORDS=_dice, game, gambling, ROFLFaucet, roll, chance, probability, high, low, multiplier_ -->
<!-- STYLES=_css/dice.css_ -->
<!-- SCRIPTS=_js/jwt-simple.js, scripts/core/unified-balance.js, js/dice-game.js_ -->

<!-- include start header.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>#TITLE#</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🤣</text></svg>">
    <meta name="description" content="#DESC#">
    
    <!-- Base Layout CSS -->
    <link rel="stylesheet" href="styles/styles.css">
    
    <!-- Additional page-specific styles -->
    #STYLES#
    
    <!-- Site-wide scripts -->
    <script src="scripts/core/unified-balance.js"></script>
    <script src="scripts/core/site-utils.js"></script>
    <script src="scripts/core/gallery-system-simple.js"></script>
    <script src="scripts/core/jwt-simple.js"></script>
    
    <!-- Unified Balance System -->
    <script>console.log('🔧 Loading unified balance system...');</script>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <h1>🤣 roflfaucet</h1>
            </div>
            
            <nav class="nav">
                <a href="index.html" class="nav-link">Faucet</a>
                
                <!-- Games Dropdown -->
                <div class="nav-dropdown">
                    <a href="#" class="nav-link dropdown-toggle">Games ▼</a>
                    <div class="dropdown-menu">
                        <a href="slots.html" class="dropdown-item">🎰 Slots</a>
                        <a href="dice.html" class="dropdown-item">🎲 Roll of Chance</a>
                        <a href="wheel.html" class="dropdown-item">🎡 Wheel of Wealth</a>
                    </div>
                </div>
                
                <a href="profile.html" class="nav-link">Profile</a>
                <a href="about.html" class="nav-link">About</a>
            </nav>
            
            <!-- Hamburger Menu for Mobile -->
            <button class="hamburger-menu" id="mobile-menu-btn">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="header-auth">
                <button id="login-btn" class="header-auth-btn">Login</button>
            </div>
        </div>
    </header>
    
    <div class="container">
<!-- include end header.html -->

<!-- include start left-sidebar.html -->
        <aside class="left-sidebar">
            <!-- A-Ads placeholder - no min-width constraint for testing -->
            <div style="height: 250px; background: #e0e0e0; border: 2px dashed #999; display: flex; align-items: center; justify-content: center; text-align: center; max-width: 100%; box-sizing: border-box;">
                <div>
                    A-Ads Placeholder<br>
                    300x250px<br>
                    (scales to fit)
                </div>
            </div>
        </aside>
<!-- include end left-sidebar.html -->

        <main class="main-content">
<!-- UNIQUE PAGE CONTENT GOES HERE -->
            <div class="container-fluid mt-4">
                <div class="row">
                    <!-- Left Sidebar - Game Stats -->
                    <div class="col-lg-3 col-md-4 mb-4">
                        <div class="stats-panel">
                            <h5 class="stats-title">
                                <i class="fas fa-chart-bar"></i> Game Stats
                            </h5>
                            
                            <div class="stat-item">
                                <div class="stat-label">Total Rolls</div>
                                <div class="stat-value" id="totalRolls">0</div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-label">Total Wagered</div>
                                <div class="stat-value" id="totalWagered">0</div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-label">Total Won</div>
                                <div class="stat-value" id="totalWon">0</div>
                            </div>
                            
                            <div class="stat-item">
                                <div class="stat-label">Win Rate</div>
                                <div class="stat-value" id="winRate">0%</div>
                            </div>
                        </div>

                        <!-- Recent Rolls -->
                        <div class="recent-rolls-panel mt-3">
                            <h5 class="stats-title">
                                <i class="fas fa-history"></i> Recent Rolls
                            </h5>
                            <div class="recent-rolls-list" id="recentRolls">
                                <!-- Rolls will be populated here -->
                            </div>
                        </div>
                    </div>

                    <!-- Main Game Area -->
                    <div class="col-lg-6 col-md-8">
                        <div class="game-container">
                            <h1 class="game-title">
                                <i class="fas fa-dice"></i> Roll of Chance
                            </h1>

                            <!-- Balance Display -->
                            <div class="balance-display">
                                <div class="balance-item">
                                    <span class="balance-label">Balance:</span>
                                    <span class="balance-value" id="playerBalance">0</span>
                                    <span class="currency-display">tokens</span>
                                </div>
                            </div>

                            <!-- Game Controls -->
                            <div class="game-controls">
                                <div class="row">
                                    <!-- Bet Amount -->
                                    <div class="col-md-6 mb-3">
                                        <div class="control-group">
                                            <label class="control-label">Bet Amount</label>
                                            <div class="input-group">
                                                <button class="btn btn-outline-secondary" id="betDown" type="button">
                                                    <i class="fas fa-minus"></i>
                                                </button>
                                                <input type="number" class="form-control text-center" id="betAmount" value="1" min="1" max="100">
                                                <button class="btn btn-outline-secondary" id="betUp" type="button">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Payout Multiplier -->
                                    <div class="col-md-6 mb-3">
                                        <div class="control-group">
                                            <label class="control-label">Payout Multiplier</label>
                                            <div class="input-group">
                                                <button class="btn btn-outline-secondary" id="payoutDown" type="button">
                                                    <i class="fas fa-minus"></i>
                                                </button>
                                                <input type="number" class="form-control text-center" id="payoutMultiplier" value="2" min="1.01" max="100" step="0.01">
                                                <button class="btn btn-outline-secondary" id="payoutUp" type="button">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                            </div>
                                            <div class="multiplier-suffix">x</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Win Probability Display -->
                                <div class="probability-display">
                                    <div class="probability-item">
                                        <span class="probability-label">Win Chance:</span>
                                        <span class="probability-value" id="winChance">49.50%</span>
                                    </div>
                                    <div class="probability-item">
                                        <span class="probability-label">Potential Payout:</span>
                                        <span class="probability-value" id="potentialPayout">2</span>
                                        <span class="currency-display">tokens</span>
                                    </div>
                                </div>

                                <!-- High/Low Toggle -->
                                <div class="highlow-controls">
                                    <div class="highlow-label">
                                        <span id="rollCondition">Roll UNDER to win</span>
                                    </div>
                                    <div class="highlow-threshold">
                                        <span>Target: </span>
                                        <span id="rollThreshold">49.50</span>
                                    </div>
                                    <button class="btn btn-primary highlow-toggle" id="highlowToggle">
                                        <i class="fas fa-exchange-alt"></i>
                                        Switch to HIGH
                                    </button>
                                </div>

                                <!-- Roll Button -->
                                <div class="roll-button-container">
                                    <button class="btn btn-success btn-lg roll-button" id="rollButton">
                                        <i class="fas fa-dice"></i>
                                        ROLL DICE
                                    </button>
                                </div>
                            </div>

                            <!-- Roll Result Display -->
                            <div class="roll-result" id="rollResult">
                                <div class="result-number" id="rollValue">0.00</div>
                                <div class="result-status" id="rollStatus">Ready to roll!</div>
                                <div class="result-payout" id="rollPayout"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Sidebar - Instructions -->
                    <div class="col-lg-3 d-none d-lg-block">
                        <div class="instructions-panel">
                            <h5 class="stats-title">
                                <i class="fas fa-info-circle"></i> How to Play
                            </h5>
                            
                            <div class="instruction-step">
                                <div class="step-number">1</div>
                                <div class="step-text">Choose your bet amount</div>
                            </div>
                            
                            <div class="instruction-step">
                                <div class="step-number">2</div>
                                <div class="step-text">Set your payout multiplier (higher = riskier but bigger wins)</div>
                            </div>
                            
                            <div class="instruction-step">
                                <div class="step-number">3</div>
                                <div class="step-text">Choose HIGH or LOW strategy</div>
                            </div>
                            
                            <div class="instruction-step">
                                <div class="step-number">4</div>
                                <div class="step-text">Click ROLL DICE and hope for the best!</div>
                            </div>

                            <div class="strategy-tip">
                                <h6><i class="fas fa-lightbulb"></i> Strategy Tips</h6>
                                <ul>
                                    <li><strong>2x multiplier</strong> = ~50% win chance (safest)</li>
                                    <li><strong>10x multiplier</strong> = ~10% win chance (medium risk)</li>
                                    <li><strong>50x multiplier</strong> = ~2% win chance (high risk)</li>
                                    <li>Higher multipliers = lower win chance but bigger payouts!</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Audio Elements -->
            <audio id="rollSound" preload="auto">
                <source src="sounds/dice-roll.mp3" type="audio/mpeg">
                <source src="sounds/dice-roll.wav" type="audio/wav">
            </audio>
            
            <audio id="winSound" preload="auto">
                <source src="sounds/win.mp3" type="audio/mpeg">
                <source src="sounds/win.wav" type="audio/wav">
            </audio>
            
            <audio id="loseSound" preload="auto">
                <source src="sounds/lose.mp3" type="audio/mpeg">
                <source src="sounds/lose.wav" type="audio/wav">
            </audio>

            <script>
                // Initialize dice game when page loads
                document.addEventListener('DOMContentLoaded', function() {
                    // Initialize dice game
                    if (typeof DiceGame !== 'undefined') {
                        window.diceGame = new DiceGame();
                    } else {
                        console.log('⏳ Waiting for DiceGame class to load...');
                        setTimeout(function() {
                            if (typeof DiceGame !== 'undefined') {
                                window.diceGame = new DiceGame();
                            }
                        }, 1000);
                    }
                });
            </script>
<!-- END UNIQUE PAGE CONTENT -->
        </main>

<!-- include start right-sidebar.html -->
        <aside class="right-sidebar">
            <!-- Random Giphy Image Container - TEMPORARILY DISABLED FOR TESTING -->
            <div id="sidebar-giphy-gallery-disabled" class="full-width" style="text-align: center; margin: 0; padding: 0;">
                <p style="color: #666; font-size: 14px; margin: 10px;">Gallery disabled during testing</p>
            </div>
        </aside>
<!-- include end right-sidebar.html -->

<!-- include start footer.html -->
    </div>
    
    <!-- Additional page-specific scripts -->
    #SCRIPTS#
</body>
</html>
<!-- include end footer.html -->
