<!-- Roll of Chance - Intelligent Dice Game with dynamic probability calculations -->
<!-- TITLE=_Roll of Chance - ROFLFaucet_ -->
<!-- DESC=_Intelligent dice game with dynamic probability calculations and High/Low mechanics_ -->
<!-- KEYWORDS=_dice, game, gambling, ROFLFaucet, roll, chance, probability, high, low, multiplier_ -->
<!-- STYLES=_css/dice.css_ -->
<!-- SCRIPTS=_js/levels-system.js,js/dice-game.js_ -->

<!-- include start header.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roll of Chance - ROFLFaucet</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§£</text></svg>">
    <meta name="description" content="Intelligent dice game with dynamic probability calculations and High/Low mechanics">
    
    <!-- Base Layout CSS -->
    <link rel="stylesheet" href="styles/styles.css">
    
    <!-- Additional page-specific styles -->
        <link rel="stylesheet" href="css/dice.css">

    
    <!-- Site-wide scripts -->
    <script src="scripts/core/unified-balance.js"></script>
    <script src="scripts/core/site-utils.js"></script>
    <script src="scripts/core/gallery-system-simple.js"></script>
    <script src="scripts/core/jwt-simple.js"></script>
    
    <!-- Unified Balance System -->
    <script>console.log('üîß Loading unified balance system...');</script>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <h1>ü§£ roflfaucet</h1>
            </div>
            
            <nav class="nav">
                <a href="index.html" class="nav-link">Faucet</a>
                
                <!-- Games Dropdown -->
                <div class="nav-dropdown">
                    <a href="#" class="nav-link dropdown-toggle">Games ‚ñº</a>
                    <div class="dropdown-menu">
                        <a href="slots.html" class="dropdown-item">üé∞ Slots</a>
                        <a href="dice.html" class="dropdown-item">üé≤ Roll of Chance</a>
                        <a href="wheel.html" class="dropdown-item">üé° Wheel of Wealth</a>
                    </div>
                </div>
                
                <a href="profile.html" class="nav-link">Profile</a>
                <a href="about.html" class="nav-link">About</a>
            </nav>
            
            <!-- Hamburger Menu for Mobile -->
            <button class="hamburger-menu" id="mobile-menu-btn">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <div class="header-auth">
                <button id="login-btn" class="header-auth-btn">Login</button>
            </div>
        </div>
    </header>
    
    <div class="container">
<!-- include end header.html -->

<!-- include start left-sidebar.html -->
        <aside class="left-sidebar">
            <!-- A-Ads placeholder - no min-width constraint for testing -->
            <div style="height: 250px; background: #e0e0e0; border: 2px dashed #999; display: flex; align-items: center; justify-content: center; text-align: center; max-width: 100%; box-sizing: border-box;">
                <div>
                    A-Ads Placeholder<br>
                    300x250px<br>
                    (scales to fit)
                </div>
            </div>
        </aside>
<!-- include end left-sidebar.html -->

        <main class="main-content">
<!-- UNIQUE PAGE CONTENT GOES HERE -->
            <div class="content-container">
                <div class="game-container">
                    <h1 class="game-title">üé≤ Roll of Chance</h1>
                    
                    <!-- Balance Display -->
                    <div class="balance-display">
                        <div class="balance-item">
                            <span class="balance-label">Balance:</span>
                            <span class="balance-value" id="playerBalance">0</span>
                            <span class="currency-display">tokens</span>
                        </div>
                        <!-- Faucet Countdown Button -->
                        <div class="balance-faucet" style="margin-top: 10px; text-align: center;">
                            <button id="faucet-countdown-btn" class="faucet-countdown-btn" onclick="handleFaucetClaim()" disabled>
                                <span class="btn-text">Faucet: Loading...</span>
                            </button>
                        </div>
                    </div>

                    <!-- Table-based Betting Panel -->
                    <div style="padding: 20px; background: rgba(0,0,0,0.05); border-radius: 8px; margin: 20px 0;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <tr>
                                <td style="padding: 8px; text-align: right; font-weight: bold;">Bet Amount:</td>
                                <td style="padding: 8px;">
                                    <button id="betDown" type="button" style="padding: 4px 8px; margin-right: 5px;">-</button>
                                    <input type="number" id="betAmount" value="1" min="1" max="100" style="width: 80px; text-align: center;">
                                    <button id="betUp" type="button" style="padding: 4px 8px; margin-left: 5px;">+</button>
                                </td>
                                <td style="padding: 8px; text-align: right; font-weight: bold;">Win Chance:</td>
                                <td style="padding: 8px; color: #28a745; font-weight: bold;" id="winChance">49.50%</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; text-align: right; font-weight: bold;">Multiplier:</td>
                                <td style="padding: 8px;">
                                    <button id="payoutDown" type="button" style="padding: 4px 8px; margin-right: 5px;">-</button>
                                    <input type="number" id="payoutMultiplier" value="2" min="1.01" max="1000" step="0.01" style="width: 80px; text-align: center;">
                                    <button id="payoutUp" type="button" style="padding: 4px 8px; margin-left: 5px;">+</button>
                                    <span style="margin-left: 5px;">x</span>
                                </td>
                                <td style="padding: 8px; text-align: right; font-weight: bold;">Potential Win:</td>
                                <td style="padding: 8px; color: #007bff; font-weight: bold;">
                                    <span id="potentialPayout">2</span> <span style="font-size: 0.9em;">tokens</span>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <!-- High/Low Toggle -->
                    <div class="highlow-controls" style="text-align: center; margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 15px;">
                        <div class="highlow-label" style="margin-bottom: 10px;">
                            <span id="rollCondition">Roll UNDER to win</span>
                        </div>
                        <div class="highlow-threshold" style="margin-bottom: 15px;">
                            <span>Target: </span>
                            <span id="rollThreshold">49.50</span>
                        </div>
                        <button class="btn btn-primary highlow-toggle" id="highlowToggle" style="padding: 8px 16px;">
                            Switch to HIGH
                        </button>
                    </div>

                    <!-- Roll Button -->
                    <div style="text-align: center; margin: 20px 0;">
                        <button class="btn btn-success btn-lg roll-button" id="rollButton">üé≤ ROLL DICE</button>
                    </div>

                    <!-- Roll Result -->
                    <div class="roll-result" id="rollResult" style="text-align: center; padding: 20px;">
                        <div class="result-number" id="rollValue">0.00</div>
                        <div class="result-status" id="rollStatus">Roll result</div>
                        <div class="result-payout" id="rollPayout"></div>
                    </div>
                </div>
                
                <!-- Tab System -->
                <div style="margin-top: 30px;">
                    <!-- Tab Navigation -->
                    <div class="tab-nav" style="display: flex; border-bottom: 2px solid #ddd; margin-bottom: 20px;">
                        <button class="tab-btn active" onclick="showTab('howToPlay')" style="flex: 1; padding: 12px; border: none; background: #f8f9fa; cursor: pointer; border-bottom: 3px solid #007bff; font-weight: bold;">üìù How to Play</button>
                        <button class="tab-btn" onclick="showTab('recentRolls')" style="flex: 1; padding: 12px; border: none; background: #f8f9fa; cursor: pointer; border-bottom: 3px solid transparent;">üìà Recent Rolls</button>
                        <button class="tab-btn" onclick="showTab('gameStats')" style="flex: 1; padding: 12px; border: none; background: #f8f9fa; cursor: pointer; border-bottom: 3px solid transparent;">üìä Game Stats</button>
                    </div>
                    
                    <!-- Tab Content -->
                    <div class="tab-content">
                        <!-- How to Play Tab -->
                        <div id="howToPlay" class="tab-panel" style="display: block; padding: 20px; background: rgba(0,0,0,0.02); border-radius: 8px; min-height: 300px;">
                            <div style="margin-bottom: 10px;">
                                <strong>1.</strong> Choose your bet amount
                            </div>
                            <div style="margin-bottom: 10px;">
                                <strong>2.</strong> Set your payout multiplier (higher = riskier but bigger wins)
                            </div>
                            <div style="margin-bottom: 10px;">
                                <strong>3.</strong> Choose HIGH or LOW strategy
                            </div>
                            <div style="margin-bottom: 15px;">
                                <strong>4.</strong> Click ROLL DICE and hope for the best!
                            </div>

                            <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-top: 15px; border-left: 4px solid #2196f3;">
                                <h6>üí° Strategy Tips</h6>
                                <ul style="margin: 10px 0; padding-left: 20px;">
                                    <li><strong>2x multiplier</strong> = ~49.5% win chance (safest)</li>
                                    <li><strong>10x multiplier</strong> = ~9.9% win chance (medium risk)</li>
                                    <li><strong>100x multiplier</strong> = ~0.99% win chance (high risk)</li>
                                    <li><strong>1000x multiplier</strong> = ~0.099% win chance (EXTREME!)</li>
                                    <li>üéØ <strong>99% RTP</strong> - One of the fairest dice games online!</li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Recent Rolls Tab -->
                        <div id="recentRolls" class="tab-panel" style="display: none; padding: 20px; background: rgba(0,0,0,0.02); border-radius: 8px; min-height: 300px;">
                            <div class="recent-rolls-list" id="recentRollsList" style="max-height: 280px; overflow-y: auto;">
                                <!-- Rolls will be populated here -->
                            </div>
                        </div>
                        
                        <!-- Game Stats Tab -->
                        <div id="gameStats" class="tab-panel" style="display: none; padding: 20px; background: rgba(0,0,0,0.02); border-radius: 8px; min-height: 300px;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <tr>
                                    <td style="padding: 12px; border-bottom: 2px solid #eee; font-size: 16px;">Total Rolls:</td>
                                    <td style="padding: 12px; border-bottom: 2px solid #eee; font-weight: bold; text-align: right; font-size: 16px;" id="totalRolls">0</td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px; border-bottom: 2px solid #eee; font-size: 16px;">Total Wagered:</td>
                                    <td style="padding: 12px; border-bottom: 2px solid #eee; font-weight: bold; text-align: right; font-size: 16px;" id="totalWagered">0</td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px; border-bottom: 2px solid #eee; font-size: 16px;">Total Won:</td>
                                    <td style="padding: 12px; border-bottom: 2px solid #eee; font-weight: bold; text-align: right; font-size: 16px;" id="totalWon">0</td>
                                </tr>
                                <tr>
                                    <td style="padding: 12px; font-size: 16px;">Win Rate:</td>
                                    <td style="padding: 12px; font-weight: bold; text-align: right; font-size: 16px;" id="winRate">0%</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Audio Elements -->
            <audio id="rollSound" preload="auto">
                <source src="sounds/dice-roll.mp3" type="audio/mpeg">
                <source src="sounds/dice-roll.wav" type="audio/wav">
            </audio>
            
            <audio id="winSound" preload="auto">
                <source src="sounds/win.mp3" type="audio/mpeg">
                <source src="sounds/win.wav" type="audio/wav">
            </audio>
            
            <audio id="loseSound" preload="auto">
                <source src="sounds/lose.mp3" type="audio/mpeg">
                <source src="sounds/lose.wav" type="audio/wav">
            </audio>

            <script>
                // Tab switching function
                function showTab(tabName) {
                    // Hide all tab panels
                    const panels = document.querySelectorAll('.tab-panel');
                    panels.forEach(panel => {
                        panel.style.display = 'none';
                    });
                    
                    // Remove active class from all tab buttons
                    const buttons = document.querySelectorAll('.tab-btn');
                    buttons.forEach(button => {
                        button.classList.remove('active');
                        button.style.borderBottomColor = 'transparent';
                        button.style.fontWeight = 'normal';
                    });
                    
                    // Show selected tab panel
                    const selectedPanel = document.getElementById(tabName);
                    if (selectedPanel) {
                        selectedPanel.style.display = 'block';
                    }
                    
                    // Add active class to clicked button
                    const activeButton = event ? event.target : document.querySelector(`[onclick="showTab('${tabName}')"]`);
                    if (activeButton) {
                        activeButton.classList.add('active');
                        activeButton.style.borderBottomColor = '#007bff';
                        activeButton.style.fontWeight = 'bold';
                    }
                }
                
                // Initialize dice game when page loads
                document.addEventListener('DOMContentLoaded', function() {
                    // Initialize dice game
                    if (typeof DiceGame !== 'undefined') {
                        window.diceGame = new DiceGame();
                    } else {
                        console.log('‚è≥ Waiting for DiceGame class to load...');
                        setTimeout(function() {
                            if (typeof DiceGame !== 'undefined') {
                                window.diceGame = new DiceGame();
                            }
                        }, 1000);
                    }
                });
            </script>
<!-- END UNIQUE PAGE CONTENT -->
        </main>

<!-- include start right-sidebar.html -->
        <aside class="right-sidebar">
            <!-- Random Giphy Image Container - TEMPORARILY DISABLED FOR TESTING -->
            <div id="sidebar-giphy-gallery-disabled" class="full-width" style="text-align: center; margin: 0; padding: 0;">
                <p style="color: #666; font-size: 14px; margin: 10px;">Gallery disabled during testing</p>
            </div>
        </aside>
<!-- include end right-sidebar.html -->

<!-- include start footer.html -->
    </div>
    
    <!-- Additional page-specific scripts -->
        <script src="js/levels-system.js"></script>
    <script src="js/dice-game.js"></script>

</body>
</html>
<!-- include end footer.html -->
