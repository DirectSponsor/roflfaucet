<!-- Slots Machine Game Page - Mobile Version -->
<!-- TITLE=_ROFLFaucet - Casino Slots (Mobile)_ -->
<!-- DESC=_Play casino slots and win UselessCoins on ROFLFaucet - Mobile optimized_ -->
<!-- KEYWORDS=_slots, casino, faucet, coins, gambling, game, mobile_ -->
<!-- STYLES=_slots/slots.css,mobile-layout.css_ -->
<!-- SCRIPTS=_slots/slots.js_ -->

<!-- include start header-mobile.html -->
        <main class="main-content">
<!-- include start components/slot-machine.html -->
<div class="slot-machine" id="slot-machine">

    <!-- Front Side - Game -->
    <div class="machine-front">
        <div class="slot-machine-container">
            <!-- Sprite Background Slot Machine Reels -->
            <div class="sprite-reels-container">
                <!-- Glass overlay with center line -->
                <div class="slot-glass-overlay">
                    <div class="center-line"></div>
                </div>
                <!-- Just empty reel windows - sprite moves behind them -->
                <div class="reel" id="reel-1"></div>
                <div class="reel" id="reel-2"></div>
                <div class="reel" id="reel-3"></div>
            </div>
            <!-- Control Panel -->
            <div class="control-panel">
                    <table class="control-table">
                        <tr class="control-row">
                            <td class="control-cell">
                                <span class="control-label">WIN</span><br>
                                <span class="control-value" id="last-win">0</span>
                            </td>
                            <td class="control-cell">
                                <span class="control-label currency-upper">COINS</span><br>
                                <span class="control-value balance" id="current-balance">100</span>
                            </td>
                            <td class="control-cell bet-cell">
                                <span class="control-label">BET</span><br>
                                <span class="control-value" id="current-bet">1</span>
                            </td>
                            <td class="control-cell narrow-arrow-cell">
                                <button class="bet-btn-inline" onclick="increaseBet()">‚ñ≤</button><br>
                                <button class="bet-btn-inline" onclick="decreaseBet()">‚ñº</button>
                            </td>
                            <td class="control-cell spin-cell">
                                <button class="spin-button" onclick="spinReels()" id="spin-btn">
                                    SPIN
                                </button>
                            </td>
                        </tr>
                        <tr class="action-row">
                            <td colspan="2" class="action-cell">
                                <button class="flip-button" onclick="flipMachine()" id="flip-btn">
                                    Payouts
                                </button>
                            </td>
                            <td colspan="3" class="action-cell">
                                <button class="faucet-countdown-btn" onclick="handleFaucetClaim()" disabled>
                                    <span class="btn-text">Faucet: 300</span>
                                </button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Back Side - Prize Display -->
    <div class="machine-back">
        <div class="slot-machine-container">
            
            <!-- Prize Display Table -->
            <div class="prize-display-container">
                <table class="prize-table">
                    <thead>
                        <tr>
                            <th>Combination</th>
                            <th>Payout</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-symbol="cherry">
                            <td class="prize-combo">üçíüçíüçí</td>
                            <td class="prize-payout">50</td>
                        </tr>
                        <tr data-symbol="lemon">
                            <td class="prize-combo">üçãüçãüçã</td>
                            <td class="prize-payout">75</td>
                        </tr>
                        <tr data-symbol="bell">
                            <td class="prize-combo">üîîüîîüîî</td>
                            <td class="prize-payout">100</td>
                        </tr>
                        <tr data-symbol="bar">
                            <td class="prize-combo">‚¨õ‚¨õ‚¨õ</td>
                            <td class="prize-payout">200</td>
                        </tr>
                        <tr data-symbol="seven">
                            <td class="prize-combo">7Ô∏è‚É£7Ô∏è‚É£7Ô∏è‚É£</td>
                            <td class="prize-payout">500</td>
                        </tr>
                        <tr data-symbol="diamond">
                            <td class="prize-combo">üíéüíéüíé</td>
                            <td class="prize-payout">1000</td>
                        </tr>
                        <tr data-symbol="two_diamonds">
                            <td class="prize-combo">üíéüíé‚¨ú</td>
                            <td class="prize-payout">25</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Back Control Panel - Same as front but with disabled SPIN -->
            <div class="control-panel">
                <table class="control-table">
                    <tr class="control-row">
                        <td class="control-cell">
                            <span class="control-label">WIN</span><br>
                            <span class="control-value" id="last-win-back">0</span>
                        </td>
                        <td class="control-cell">
                            <span class="control-label currency-upper">COINS</span><br>
                            <span class="control-value balance" id="current-balance-back">100</span>
                        </td>
                        <td class="control-cell bet-cell">
                            <span class="control-label">BET</span><br>
                            <span class="control-value" id="current-bet-back">1</span>
                        </td>
                        <td class="control-cell narrow-arrow-cell">
                            <button class="bet-btn-inline" onclick="increaseBet()" disabled>‚ñ≤</button><br>
                            <button class="bet-btn-inline" onclick="decreaseBet()" disabled>‚ñº</button>
                        </td>
                        <td class="control-cell spin-cell">
                            <button class="spin-button" disabled>
                                SPIN
                            </button>
                        </td>
                    </tr>
                </table>
            </div>
            
            <!-- Back Action Buttons Row -->
            <div class="action-buttons">
                <button class="flip-button" onclick="flipMachine()" id="flip-btn-back">
                    Slots
                </button>
                <button class="faucet-countdown-btn" onclick="handleFaucetClaim()" disabled>
                    <span class="btn-text">Faucet: 300</span>
                </button>
            </div>
        </div>
    </div>
    
</div>

<!-- include end components/slot-machine.html -->
        </main>

<!-- include start left-sidebar.html -->
        <aside class="left-sidebar">
            <!-- A-Ads placeholder - no min-width constraint for testing -->
            <div style="height: 250px; background: #e0e0e0; border: 2px dashed #999; display: flex; align-items: center; justify-content: center; text-align: center; max-width: 100%; box-sizing: border-box;">
                <div>
                    A-Ads Placeholder<br>
                    300x250px<br>
                    (scales to fit)
                </div>
            </div>
        </aside>
<!-- include end left-sidebar.html -->

<!-- include start right-sidebar.html -->
        <aside class="right-sidebar">
            <!-- Random Giphy Image Container -->
            <div id="sidebar-giphy-gallery" class="full-width" data-gallery="giphy" style="text-align: center; margin: 0; padding: 0;">
                <p style="color: #666; font-size: 14px; margin: 10px;">Loading funny GIF...</p>
            </div>
        </aside>
<!-- include end right-sidebar.html -->

<!-- include start footer.html -->
    </div>
    
    <!-- Additional page-specific scripts -->
        <script src="slots/slots.js"></script>
    
    <!-- Mobile-specific JavaScript override -->
    <script>
        // Wait for the slot machine to be initialized, then override the responsive function
        document.addEventListener('DOMContentLoaded', function() {
            // Small delay to ensure slots.js has finished initialization
            setTimeout(function() {
                if (window.slotMachine && typeof window.slotMachine.calculateResponsiveDimensions === 'function') {
                    console.log('üé∞ Mobile: Overriding responsive dimensions with fixed values');
                    
                    // Replace the responsive calculation with fixed mobile-optimized dimensions
                    window.slotMachine.calculateResponsiveDimensions = function() {
                        const viewportWidth = window.innerWidth;
                        
                        // Use progressive scaling for mobile only when necessary
                        let reelWidth, gap, padding;
                        
                        if (viewportWidth >= 420) {
                            // Default mobile size - fixed 120px reels
                            reelWidth = 120;
                            gap = 15;
                            padding = 15;
                        } else if (viewportWidth >= 350) {
                            // Medium scaling for narrow screens
                            reelWidth = 100;
                            gap = 12;
                            padding = 12;
                        } else if (viewportWidth >= 320) {
                            // Small scaling for standard minimum mobile width
                            reelWidth = 80;
                            gap = 8;
                            padding = 8;
                        } else {
                            // Extra small scaling for very narrow screens (below 320px)
                            reelWidth = 60;
                            gap = 5;
                            padding = 5;
                        }
                        
                        // Calculate other dimensions based on reel width
                        const reelHeight = reelWidth * 3; // 3:1 aspect ratio
                        const spriteHeight = reelWidth * 10; // 10 symbols
                        const positionHeight = spriteHeight / 20; // 20 positions
                        
                        // Calculate scale factor for UI elements
                        const scaleFactor = reelWidth / 120; // 120px is our base size
                        
                        // Update CSS custom properties
                        const root = document.documentElement;
                        root.style.setProperty('--reel-width', `${reelWidth}px`);
                        root.style.setProperty('--reel-height', `${reelHeight}px`);
                        root.style.setProperty('--sprite-height', `${spriteHeight}px`);
                        root.style.setProperty('--reel-gap', `${gap}px`);
                        root.style.setProperty('--container-padding', `${padding}px`);
                        
                        // Scale control panel elements
                        const controlPanelHeight = Math.max(60, 80 * scaleFactor);
                        const controlFontSize = Math.max(1.0, 1.4 * scaleFactor);
                        const controlLabelSize = Math.max(0.6, 0.8 * scaleFactor);
                        const buttonHeight = Math.max(40, 56 * scaleFactor);
                        const buttonMinWidth = Math.max(50, 80 * scaleFactor);
                        
                        // Apply control panel scaling
                        const controlPanel = document.querySelector('.control-panel');
                        if (controlPanel) {
                            controlPanel.style.height = `${controlPanelHeight}px`;
                            controlPanel.style.padding = `${padding}px`;
                        }
                        
                        // Scale control labels and values
                        const controlLabels = document.querySelectorAll('.control-label');
                        const controlValues = document.querySelectorAll('.control-value');
                        const spinButtons = document.querySelectorAll('.spin-button');
                        const betButtons = document.querySelectorAll('.bet-btn-inline');
                        
                        controlLabels.forEach(label => {
                            label.style.fontSize = `${controlLabelSize}rem`;
                        });
                        
                        controlValues.forEach(value => {
                            value.style.fontSize = `${controlFontSize}rem`;
                            value.style.minHeight = `${buttonHeight}px`;
                        });
                        
                        spinButtons.forEach(button => {
                            button.style.height = `${buttonHeight}px`;
                            button.style.minWidth = `${buttonMinWidth}px`;
                            button.style.fontSize = `${Math.max(0.9, 1.1 * scaleFactor)}rem`;
                        });
                        
                        betButtons.forEach(button => {
                            const btnSize = Math.max(20, 32 * scaleFactor);
                            const btnHeight = Math.max(18, 26 * scaleFactor);
                            button.style.width = `${btnSize}px`;
                            button.style.height = `${btnHeight}px`;
                            button.style.fontSize = `${Math.max(0.7, 0.9 * scaleFactor)}rem`;
                        });
                        
                        // Update instance variables for positioning calculations
                        this.reelWidth = reelWidth;
                        this.symbolHeight = reelWidth;
                        this.reelHeight = reelHeight;
                        this.totalSpriteHeight = spriteHeight;
                        this.totalPositions = 20;
                        this.positionHeight = positionHeight;
                        
                        console.log(`üé∞ Mobile fixed dimensions applied:`);
                        console.log(`  Viewport: ${viewportWidth}px`);
                        console.log(`  Reel size: ${reelWidth}x${reelHeight}px`);
                        console.log(`  Position height: ${positionHeight}px`);
                    };
                    
                    // Trigger the new calculation immediately
                    window.slotMachine.updateSpriteDimensions();
                    
                    console.log('üé∞ Mobile responsive override complete');
                } else {
                    console.warn('üé∞ Mobile: Could not find slotMachine instance to override');
                }
            }, 100);
        });
    </script>

</body>
</html>
<!-- include end footer.html -->
