# ROFLFaucet - Current Project State & Context

## Last Updated: July 26, 2025

## Current Directory Structure (Post-Reorganization)

```
roflfaucet/
├── *.html                     # Main pages (index, slots, about, etc.)
├── styles/                    # All CSS files (reorganized)
│   ├── styles.css            # Main site styles
│   ├── guest-base.css        # Guest user styles
│   ├── member-base.css       # Member user styles
│   └── mobile-layout.css     # Mobile-specific styles
├── scripts/                   # All JavaScript files
│   ├── core/                 # Core functionality
│   │   ├── unified-balance.js
│   │   ├── site-utils.js
│   │   ├── faucet-bridge.js
│   │   └── gallery-system-simple.js
│   └── slots-stats.js        # Moved from root
├── slots/                     # Slots game self-contained
│   ├── slots.js
│   ├── slots.css
│   ├── slots-minimal.html    # Active game (iframe)
│   └── images/               # Game sprites and symbols
│       └── sprite_reel_vertical_120px.png (active sprite)
├── data/                     # Gallery and data files
│   ├── vgy_gallery.txt       # Moved from root
│   ├── giphy_gallery.txt     # Moved from root
│   ├── postimg_gallery.txt   # Moved from root
│   └── gallery-images.json   # PHP gallery data
├── includes/                 # HTML includes for build system
│   ├── header.html
│   ├── footer.html
│   ├── left-sidebar.html
│   ├── right-sidebar.html
│   └── faucet-countdown-button.html
├── backups/                  # Auto-generated by build system
├── guest/                    # Empty - future auth system
├── member/                   # Empty - future auth system  
└── pages/                    # Empty - future auth system
```

## Recent Major Changes

### 1. CSS Reorganization
- **COMPLETED**: All CSS files moved to `styles/` folder
- **COMPLETED**: Updated all references in HTML files and includes
- **COMPLETED**: Build system now uses correct paths with `styles/` prefix
- **STATUS**: All CSS properly referenced and working

### 2. Scripts Organization  
- **COMPLETED**: Created `scripts/` folder for site-wide scripts
- **COMPLETED**: Moved `slots-stats.js` from root to `scripts/`
- **COMPLETED**: Updated reference in `slots-stats.html`
- **REMOVED**: Old unused scripts like `rtp_calculator.js` and `balance.php`

### 3. Gallery Data Organization
- **COMPLETED**: Moved all gallery text files to `data/` folder
- **COMPLETED**: Gallery system working with new paths
- **REMOVED**: Unused `gallery-images.txt` file

### 4. Slots Game Assets
- **COMPLETED**: Moved active sprite `sprite_reel_vertical_120px.png` to `slots/images/`
- **COMPLETED**: Updated all CSS references to new sprite location
- **VERIFIED**: Slots game working correctly with reorganized assets
- **CLARIFIED**: Individual images in `slots/images/` are for payout table, not duplicates

### 5. File Cleanup
- **COMPLETED**: Moved unused files to old stuff folder:
  - `slots-standalone.html` (replaced by `slots-minimal.html`)
  - `faucet-result.php` (replaced by `faucet-result.html`)
  - Old backup sprite files
  - Unused JavaScript files

## Current File Status

### Active Pages
- `index.html` - Main faucet page ✅
- `slots.html` - Slots game page (loads iframe) ✅
- `slots-minimal.html` - Actual game content (in iframe) ✅
- `slots-stats.html` - Statistics page ✅
- `slots-mobile.html` - Mobile version ✅
- `faucet-claim.html` - Faucet claim page ✅
- `faucet-result.html` - Success page ✅
- `about.html` - About page ✅

### Build System
- `build.sh` - Processes includes and placeholders ✅
- **WORKING**: All placeholder references updated for new structure
- **WORKING**: Include system functioning properly
- **WORKING**: CSS and script paths correctly updated

### Empty Directories
- `guest/` - Prepared for future auth system (empty)
- `member/` - Prepared for future auth system (empty)  
- `pages/` - Prepared for future auth system (empty)

## Technical Notes

### Gallery System
- Uses JavaScript-based gallery rotation
- Three data sources: vgy, giphy, postimg
- Files now in `data/` folder
- PHP gallery system (`gallery-images.json`) also available

### Slots Game Architecture
- Main page (`slots.html`) loads game via iframe
- Game content in `slots-minimal.html` 
- Self-contained in `slots/` folder with own CSS, JS, images
- Uses single sprite file for reels
- Individual images for payout table display

### CSS Architecture
- `styles/styles.css` - Base layout and components
- `styles/guest-base.css` - Guest user experience
- `styles/member-base.css` - Member user experience  
- `styles/mobile-layout.css` - Mobile responsive design

### Build Process
- Run `./build.sh` to update all HTML files
- Processes placeholder comments (TITLE, DESC, KEYWORDS, STYLES, SCRIPTS)
- Includes shared components (header, sidebar, footer)
- Creates automatic backups

## Known Issues & Notes

### Browser Caching
- Hard refresh (Ctrl+F5) may be needed after reorganization
- CSS/JS path changes can cause temporary display issues until cache cleared

### Future Development Areas
1. **Authentication System**: `guest/`, `member/`, `pages/` directories ready
2. **Ad System**: Placeholders in place, ready for implementation
3. **Charity Integration**: Framework ready for expansion

## Next Steps / TODO
1. Implement authentication system using prepared directories
2. Deploy to production environment
3. Test all functionality in live environment
4. Implement real ad system (currently placeholders)
5. Add charity integration features

## Files Safe to Remove (moved to old stuff)
- `faucet-result.php` - Replaced by HTML version
- `slots-standalone.html` - Replaced by minimal version
- Backup sprite files (keep only `sprite_reel_vertical_120px.png`)
- `rtp_calculator.js` - Unused
- `balance.php` - Replaced by unified-balance.js
- `gallery-images.txt` - Unused

## Current State: STABLE ✅
- All pages loading correctly
- All games functioning
- CSS and JavaScript properly organized
- Build system working
- File structure clean and logical
- Ready for deployment and further development
